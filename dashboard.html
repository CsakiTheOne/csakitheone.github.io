<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Chromecast Dashboard</title>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <!-- Google Cast Web Receiver SDK -->
    <script src="//www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">

        <h3 style="display: inline-block;">Hali Csáki! <span class="time"></span></h3>
        <h5 style="display: inline-block; margin: 0 32px;" class="date"></h5>

        <div class="row">
            
            <div class="col s12 m8">
                <div class="card" style="background: #5865f2;">
                    <widgetbot
                        server="931451560112844800"
                        channel="1020626853033164852"
                        width="100%"
                        height="350"
                    ></widgetbot>
                    <script src="https://cdn.jsdelivr.net/npm/@widgetbot/html-embed"></script>
                </div>
            </div>

            <div class="col s12 m4">
                <div class="card" style="background: #5865f2;">
                    <iframe
                        src="https://discord.com/widget?id=931451560112844800&theme=dark"
                        width="100%" height="350" allowtransparency="true" frameborder="0"
                        sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts">
                    </iframe>
                </div>
            </div>

            <div class="col s12">
                <div class="card black">
                    <div class="card-content">
                        <span class="card-title">//TODO</span>
                        <ul class="collection">
                            <li class="collection-item grey darken-4">Korrepetálás</li>
                            <li class="collection-item grey darken-4">Team Fortress 2</li>
                        </ul>
                    </div>
                </div>
            </div>
            
        </div>


    </div>

    <script>
        cast.framework.CastReceiverContext.getInstance().start();

        Array.prototype.slice.call(document.getElementsByClassName("date")).forEach(item => {
            const days = ["Hétfő", "Kedd", "Szerda", "Csütörtök", "Péntek", "Szombat", "Vasárnap"];
            const date = new Date();
            item.innerText = `${date.getFullYear()}. ${date.getMonth() + 1}. ${date.getDate()}. ${days[date.getDay()]}`;
        });
        Array.prototype.slice.call(document.getElementsByClassName("time")).forEach(item => {
            const date = new Date();
            item.innerText = `${date.getHours()}:${date.getMinutes()}`;
        });
    </script>

</body>
</html>